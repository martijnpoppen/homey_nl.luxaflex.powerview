{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "nl.luxaflex.powerview",
  "version": "2.3.0",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "name": {
    "en": "Powerview"
  },
  "brandColor": "#b3bb3c",
  "description": {
    "en": "Moving To Your Schedule"
  },
  "tags": {
    "en": [
      "Hunter Douglas",
      "Luxaflex",
      "Powerview",
      "Windows dressing",
      "Duette",
      "Plisse"
    ]
  },
  "category": [
    "appliances"
  ],
  "images": {
    "large": "/assets/images/large.png",
    "small": "/assets/images/small.png"
  },
  "author": {
    "name": "Martijn Poppen",
    "email": "luxaflex@martijnpoppen.nl"
  },
  "contributors": {
    "developers": [
      {
        "name": "Martijn Poppen",
        "email": "luxaflex@martijnpoppen.nl"
      },
      {
        "name": "HUSS BV",
        "email": "support@huss.nl"
      },
      {
        "name": "Rogier Hofboer",
        "email": "rogier@hofboer.nl"
      }
    ],
    "translators": [
      {
        "name": "üá¨üáß Martijn Poppen"
      },
      {
        "name": "üá≥üá± Martijn Poppen"
      }
    ]
  },
  "contributing": {
    "donate": {
      "paypal": {
        "username": "martijnpoppen"
      },
      "bunq": {
        "username": "martijnpoppen"
      }
    }
  },
  "bugs": {
    "url": "https://community.homey.app/t/app-pro-powerview-luxaflex-hunter-douglas/71319"
  },
  "source": "https://github.com/martijnpoppen/homey_nl.luxaflex.powerview",
  "homeyCommunityTopicId": 71319,
  "support": "https://community.homey.app/t/app-pro-powerview-luxaflex-hunter-douglas/71319",
  "flow": {
    "triggers": [
      {
        "id": "windowcoverings_tilt_set_changed",
        "title": {
          "en": "Position 2 changed",
          "nl": "Positie 2 veranderd",
          "de": "Position 2 hat sich ge√§ndert",
          "fr": "Position 2 a √©t√© modifi√©e",
          "it": "Posizione 2 cambiata",
          "sv": "Position 2 √§ndrad",
          "no": "Posisjon 2 endret",
          "es": "La posici√≥n 2 ha cambiado",
          "da": "Position 2 √¶ndret",
          "ru": "–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ 2 –∏–∑–º–µ–Ω–∏–ª–æ—Å—å",
          "pl": "Zmiana pozycji 2"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=nl.luxaflex.powerview.shade",
            "placeholder": {
              "en": "Select shade",
              "nl": "Selecteer shade"
            }
          }
        ],
        "tokens": [
          {
            "name": "windowcoverings_tilt_set",
            "type": "number",
            "title": {
              "en": "Position 2",
              "nl": "Positie 2",
              "de": "Position 2",
              "fr": "Position 2",
              "it": "Posizione 2",
              "sv": "Position 2",
              "no": "Posisjon 2",
              "es": "Posici√≥n 2",
              "da": "Position 2",
              "ru": "–ü–æ–∑–∏—Ü–∏—è 2",
              "pl": "Pozycja 2"
            },
            "example": 0.5
          }
        ]
      }
    ],
    "actions": [
      {
        "id": "nl.luxaflex.powerview.actions.sceneCollectionSet",
        "title": {
          "en": "Set scene collection",
          "nl": "Activeer Sc√®ne collectie"
        },
        "titleFormatted": {
          "en": "Set [[nl.luxaflex.powerview.sceneCollectionAutocomplete]] scene collection",
          "nl": "Activeer [[nl.luxaflex.powerview.sceneCollectionAutocomplete]] scene collectie"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=nl.luxaflex.powerview.hub",
            "placeholder": {
              "en": "Select shade",
              "nl": "Selecteer shade"
            }
          },
          {
            "type": "autocomplete",
            "name": "nl.luxaflex.powerview.sceneCollectionAutocomplete",
            "placeholder": {
              "en": "Choose a scene collection",
              "nl": "Kies een  sc√®ne collectie"
            }
          }
        ],
        "platforms": [
          "local"
        ]
      },
      {
        "id": "nl.luxaflex.powerview.actions.sceneSet",
        "title": {
          "en": "Set scene",
          "nl": "Activeer Sc√®ne"
        },
        "titleFormatted": {
          "en": "Set [[nl.luxaflex.powerview.sceneAutocomplete]] scene",
          "nl": "Activeer [[nl.luxaflex.powerview.sceneAutocomplete]] scene"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=nl.luxaflex.powerview.hub",
            "placeholder": {
              "en": "Select shade",
              "nl": "Selecteer shade"
            }
          },
          {
            "type": "autocomplete",
            "name": "nl.luxaflex.powerview.sceneAutocomplete",
            "placeholder": {
              "en": "Choose a scene",
              "nl": "Kies een  sc√®ne"
            }
          }
        ],
        "platforms": [
          "local"
        ]
      },
      {
        "id": "update_data",
        "title": {
          "en": "Update Shades",
          "nl": "Shades updaten"
        },
        "titleFormatted": {
          "en": "Update Shades",
          "nl": "Shades updaten"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=nl.luxaflex.powerview.hub&capabilities=update_data"
          }
        ],
        "platforms": [
          "local"
        ]
      },
      {
        "id": "windowcoverings_set_both",
        "highlight": true,
        "title": {
          "en": "Set the positions to",
          "nl": "Zet de posities naar",
          "de": "Setze die Positions auf",
          "fr": "Mettre la positions sur",
          "it": "Imposta la posiziones su",
          "sv": "St√§ll in positionens till",
          "no": "Innstill posisjonens til",
          "es": "Configurar la posici√≥n c2 omo",
          "da": "Indstil positionens til",
          "ru": "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–∑–∏—Ü–∏—és –Ω–∞",
          "pl": "Ustaw pozycjƒôs na"
        },
        "titleFormatted": {
          "en": "Set the positions to [[windowcoverings_set]] [[windowcoverings_tilt_set]]",
          "nl": "Zet de posities naar [[windowcoverings_set]] [[windowcoverings_tilt_set]]",
          "de": "Setze die Positions auf [[windowcoverings_set]] [[windowcoverings_tilt_set]]",
          "fr": "Mettre la positions sur [[windowcoverings_set]] [[windowcoverings_tilt_set]]",
          "it": "Imposta la posiziones su [[windowcoverings_set]] [[windowcoverings_tilt_set]]",
          "sv": "St√§ll in positionens till [[windowcoverings_set]] [[windowcoverings_tilt_set]]",
          "no": "Innstill posisjonens til [[windowcoverings_set]] [[windowcoverings_tilt_set]]",
          "es": "Configurar la posici√≥n c2 omo [[windowcoverings_set]] [[windowcoverings_tilt_set]]",
          "da": "Indstil positionens til [[windowcoverings_set]] [[windowcoverings_tilt_set]]",
          "ru": "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–∑–∏—Ü–∏—és –Ω–∞ [[windowcoverings_set]] [[windowcoverings_tilt_set]]",
          "pl": "Ustaw pozycjƒôs na [[windowcoverings_set]] [[windowcoverings_tilt_set]]"
        },
        "hint": {
          "en": "Change the positions to open (100%), closed (0%), or a value in between.",
          "nl": "Verander de posities naar open (100%), gesloten (0%), of een een waarde daartussen.",
          "ru": "–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ–∑–∏—Ü–∏—é –Ω–∞ –æ—Ç–∫—Ä—ã—Ç—É—é (100%), –∑–∞–∫—Ä—ã—Ç—É—é (0%) –∏–ª–∏ –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.",
          "pl": "Zmie≈Ñ pozycjƒô na rozchylone (100%), zasuniƒôte (0%) lub warto≈õƒá pomiƒôdzy."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=nl.luxaflex.powerview.shade",
            "placeholder": {
              "en": "Select shade",
              "nl": "Selecteer shade"
            }
          },
          {
            "name": "windowcoverings_set",
            "title": {
              "en": "Position 1",
              "nl": "Positie 1"
            },
            "type": "range",
            "min": 0,
            "max": 1,
            "step": 0.01,
            "value": 0.5,
            "label": "%",
            "labelMultiplier": 100,
            "labelDecimals": 0
          },
          {
            "name": "windowcoverings_tilt_set",
            "title": {
              "en": "Position 2",
              "nl": "Positie 2"
            },
            "type": "range",
            "min": 0,
            "max": 1,
            "step": 0.01,
            "value": 0.5,
            "label": "%",
            "labelMultiplier": 100,
            "labelDecimals": 0
          }
        ]
      },
      {
        "id": "windowcoverings_tilt_set",
        "highlight": true,
        "title": {
          "en": "Set the position 2 to",
          "nl": "Zet de positie 2 naar",
          "de": "Setze die Position 2 auf",
          "fr": "Mettre la position 2 sur",
          "it": "Imposta la posizione 2 su",
          "sv": "St√§ll in positionen 2 till",
          "no": "Innstill posisjonen 2 til",
          "es": "Configurar la posici√≥n c2 omo",
          "da": "Indstil positionen 2 til",
          "ru": "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–∑–∏—Ü–∏—é 2 –Ω–∞",
          "pl": "Ustaw pozycjƒô 2 na"
        },
        "titleFormatted": {
          "en": "Set the position 2 to [[windowcoverings_tilt_set]]",
          "nl": "Zet de positie 2 naar [[windowcoverings_tilt_set]]",
          "de": "Setze die Position 2 auf [[windowcoverings_tilt_set]]",
          "fr": "Mettre la position 2 sur [[windowcoverings_tilt_set]]",
          "it": "Imposta la posizione 2 su [[windowcoverings_tilt_set]]",
          "sv": "St√§ll in positionen 2 till [[windowcoverings_tilt_set]]",
          "no": "Innstill posisjonen 2 til [[windowcoverings_tilt_set]]",
          "es": "Configurar la posici√≥n c2 omo [[windowcoverings_tilt_set]]",
          "da": "Indstil positionen 2 til [[windowcoverings_tilt_set]]",
          "ru": "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–∑–∏—Ü–∏—é 2 –Ω–∞ [[windowcoverings_tilt_set]]",
          "pl": "Ustaw pozycjƒô 2 na [[windowcoverings_tilt_set]]"
        },
        "hint": {
          "en": "Change the position 2 to open (100%), closed (0%), or a value in between.",
          "nl": "Verander de positie 2 naar open (100%), gesloten (0%), of een een waarde daartussen.",
          "ru": "–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ–∑–∏—Ü–∏—é –Ω–∞ –æ—Ç–∫—Ä—ã—Ç—É—é (100%), –∑–∞–∫—Ä—ã—Ç—É—é (0%) –∏–ª–∏ –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.",
          "pl": "Zmie≈Ñ pozycjƒô na rozchylone (100%), zasuniƒôte (0%) lub warto≈õƒá pomiƒôdzy."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=nl.luxaflex.powerview.shade",
            "placeholder": {
              "en": "Select shade",
              "nl": "Selecteer shade"
            }
          },
          {
            "name": "windowcoverings_tilt_set",
            "type": "range",
            "min": 0,
            "max": 1,
            "step": 0.01,
            "value": 0.5,
            "label": "%",
            "labelMultiplier": 100,
            "labelDecimals": 0
          }
        ]
      }
    ]
  },
  "drivers": [
    {
      "platforms": [
        "local"
      ],
      "connectivity": [
        "cloud"
      ],
      "icon": "/drivers/nl.luxaflex.powerview.hub/assets/icon.svg",
      "images": {
        "large": "/drivers/nl.luxaflex.powerview.hub/assets/images/large.png",
        "small": "/drivers/nl.luxaflex.powerview.hub/assets/images/small.png"
      },
      "pair": [
        {
          "id": "loading",
          "template": "loading"
        },
        {
          "id": "set_ip"
        },
        {
          "id": "get_data",
          "template": "loading",
          "options": {
            "text": {
              "en": "Searching devices",
              "nl": "Zoeken naar apparaten"
            }
          }
        },
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        },
        {
          "id": "done",
          "template": "done"
        }
      ],
      "name": {
        "en": "Powerview Hub"
      },
      "class": "other",
      "capabilities": [
        "update_data"
      ],
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Powerview Settings",
            "nl": "Powerview instellingen"
          },
          "children": [
            {
              "id": "ip",
              "type": "text",
              "label": {
                "en": "IP address of your Powerview hub",
                "nl": "IP adres van de Powerview Hub"
              },
              "value": ""
            },
            {
              "id": "update_interval",
              "type": "number",
              "label": {
                "en": "Update interval",
                "nl": "Update interval"
              },
              "hint": {
                "en": "Interval (in minutes) to update all Powerview Shades (0 = OFF)",
                "nl": "Interval (in minuten) om alle Powerview Shades te updaten (0 = UIT)"
              },
              "min": 0,
              "max": 3600,
              "units": {
                "en": "minutes",
                "nl": "minuten"
              },
              "value": 15
            }
          ]
        }
      ],
      "id": "nl.luxaflex.powerview.hub"
    },
    {
      "platforms": [
        "local"
      ],
      "connectivity": [
        "cloud"
      ],
      "icon": "/drivers/nl.luxaflex.powerview.shade/assets/icon.svg",
      "images": {
        "large": "/drivers/nl.luxaflex.powerview.shade/assets/images/large.png",
        "small": "/drivers/nl.luxaflex.powerview.shade/assets/images/small.png"
      },
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Powerview Settings",
            "nl": "Powerview instellingen"
          },
          "children": [
            {
              "id": "ip",
              "type": "text",
              "label": {
                "en": "IP address of your Powerview hub",
                "nl": "IP adres van de Powerview Hub"
              },
              "value": ""
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Motor 1 Settings",
            "nl": "Motor 1 instellingen"
          },
          "children": [
            {
              "id": "invertPosition1",
              "type": "checkbox",
              "label": {
                "en": "Invert position 1 ",
                "nl": "Draai positie 1 om"
              },
              "value": false
            },
            {
              "id": "posKind1",
              "type": "dropdown",
              "value": "0",
              "label": {
                "en": "Positionkind 1"
              },
              "values": [
                {
                  "id": "0",
                  "label": {
                    "en": "None"
                  }
                },
                {
                  "id": "1",
                  "label": {
                    "en": "Primary Rail"
                  }
                },
                {
                  "id": "2",
                  "label": {
                    "en": "Secondary Rail"
                  }
                },
                {
                  "id": "3",
                  "label": {
                    "en": "Vane Tilt"
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Motor 2 Settings",
            "nl": "Motor 2 instellingen"
          },
          "children": [
            {
              "id": "invertPosition2",
              "type": "checkbox",
              "hint": {
                "en": "These options will only affect the app if DualMotor setting is enabled",
                "nl": "Deze opties zullen van kracht worden als de DualMotor optie is aangevinkt"
              },
              "label": {
                "en": "Invert position 2 ",
                "nl": "Draai positie 2 om"
              },
              "value": false
            },
            {
              "id": "posKind2",
              "type": "dropdown",
              "hint": {
                "en": "These options will only affect the app if DualMotor setting is enabled",
                "nl": "Deze opties zullen van kracht worden als de DualMotor optie is aangevinkt"
              },
              "value": "0",
              "label": {
                "en": "Positionkind 2"
              },
              "values": [
                {
                  "id": "0",
                  "label": {
                    "en": "None"
                  }
                },
                {
                  "id": "1",
                  "label": {
                    "en": "Primary Rail"
                  }
                },
                {
                  "id": "2",
                  "label": {
                    "en": "Secondary Rail"
                  }
                },
                {
                  "id": "3",
                  "label": {
                    "en": "Vane Tilt"
                  }
                }
              ]
            },
            {
              "id": "updatePosition2",
              "type": "checkbox",
              "hint": {
                "en": "When closing Position 1, then Position 2 will always go back to the state it was set to. Disabling this will allow the user to close/open both motors when Position 1 open/closes. (Useful with Google Home)",
                "nl": "Wanneer Positie 1 sluit zal Positie 2 altijd terug gaan in de laatste stand waar deze in stond. Het uitschakelen van deze optie zal beide motoren openen/sluiten als Positie 1 opent/sluit. (Handig in gebruik met Google Home)"
              },
              "label": {
                "en": "Control separate from Position 1",
                "nl": "Bestuur los van positie 1"
              },
              "value": true
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "App options",
            "nl": "App opties"
          },
          "children": [
            {
              "id": "dualmotor",
              "type": "checkbox",
              "label": {
                "en": "Setting: Dualmotor",
                "nl": "Instelling: Dualmotor"
              },
              "hint": {
                "en": "Checking this box will add the option to control a extra motor on this device (e.g. Duette Top-Down-Bottom-Up)",
                "nl": "Het aanzetten van deze instelling zal het mogelijk maken een extra motor te gebruiken op dit apparaat (bijv Duette Top-Down-Bottom-Up)"
              },
              "value": true
            },
            {
              "id": "measure_battery",
              "type": "checkbox",
              "label": {
                "en": "Setting: Battery",
                "nl": "Instelling: Battery"
              },
              "hint": {
                "en": "Checking this box will add the battery option to this device",
                "nl": "Het aanzetten van deze instelling zal de batterij optie toevoegen aan dit apparaat"
              },
              "value": true
            }
          ]
        }
      ],
      "capabilities": [
        "measure_battery",
        "windowcoverings_set",
        "windowcoverings_tilt_set"
      ],
      "capabilitiesOptions": {
        "windowcoverings_set": {
          "title": {
            "nl": "Positie 1",
            "en": "Position 1"
          }
        },
        "windowcoverings_tilt_set": {
          "title": {
            "nl": "Positie 2",
            "en": "Position 2"
          }
        }
      },
      "pair": [
        {
          "id": "loading",
          "template": "loading"
        },
        {
          "id": "set_ip"
        },
        {
          "id": "get_data",
          "template": "loading",
          "options": {
            "text": {
              "en": "Searching devices",
              "nl": "Zoeken naar apparaten"
            }
          }
        },
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        },
        {
          "id": "done",
          "template": "done"
        }
      ],
      "name": {
        "en": "Powerview Shade (Requires Hub)",
        "nl": "Powerview Shade (Vereist Hub)"
      },
      "class": "blinds",
      "energy": {
        "batteries": [
          "INTERNAL",
          "OTHER"
        ]
      },
      "id": "nl.luxaflex.powerview.shade"
    }
  ],
  "capabilities": {
    "update_data": {
      "type": "boolean",
      "title": {
        "en": "Update Shades",
        "nl": "Shades updaten"
      },
      "titleFormatted": {
        "en": "Update Shades",
        "nl": "Shades updaten"
      },
      "getable": true,
      "setable": true,
      "uiComponent": "button"
    }
  },
  "discovery": {
    "powerview": {
      "type": "mdns-sd",
      "mdns-sd": {
        "protocol": "tcp",
        "name": "_powerview"
      },
      "id": "{{txt.id}}"
    }
  }
}